# Change Log: Fix Google Sign-In Headers

**Date:** 2026-02-06
**Time:** 17:30
**Author:** Gemini Agent

## Description
Updated the `helmet` middleware configuration in `src/app.js` to address the issue where Google Sign-In hangs on a white screen.

## Changes
- **File:** `src/app.js`
- **Modification:** 
    - Added `referrerPolicy: { policy: "strict-origin-when-cross-origin" }`.
    - Explicitly set `crossOriginEmbedderPolicy: false`.
    - Retained `crossOriginOpenerPolicy: { policy: "same-origin-allow-popups" }`.

## Rationale
The default Helmet security policies (specifically `Referrer-Policy: no-referrer`) can prevent Google's authentication popup from correctly identifying the origin of the request, causing the handshake to fail and hang at `accounts.google.com/gsi/transform`. Relaxing these specific policies while maintaining general security allows the OAuth flow to complete.

## Verification
- **Automated Tests:** `npm test` could not be run due to environment limitations (`conpty` error).
- **Manual Verification:** The user should restart the server and attempt to sign in with Google. The popup should now close successfully and log the user in.
