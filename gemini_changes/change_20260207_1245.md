# Change Log: Fix Email QR Code Display

**Date:** 2026-02-07
**Time:** 12:45
**Agent:** Gemini

## Description
Fixed an issue where QR code images in ticket emails were not displaying in some email clients (like Gmail) because they were embedded as Data URIs (`data:image/png;base64...`).

## Changes

### `src/utils/email.js`
*   **Updated `sendTicketEmail` function:**
    *   Changed QR code embedding strategy from Data URIs to **Content-ID (CID)** attachments.
    *   The `generateQRCode` function is still used to generate the base64 string.
    *   Added logic to strip the `data:image/png;base64,` prefix and create an `attachments` array for Nodemailer.
    *   Updated the HTML template to reference the images via `src="cid:..."`.

## Verification
*   The change relies on standard Nodemailer functionality for CID attachments, which is the recommended way to embed images in emails to ensure broad client compatibility.
